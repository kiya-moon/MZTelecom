<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
	layout:decorate="~{layout/default_layout}">

<th:block layout:fragment="content">
	<section class="common">
		<article>
			<div class="login-container">
				<h2>회원가입</h2>
				<form id="signup-form" th:action="@{/signup}" method="post">
					<div class="input-container">
						<label for="id">아이디</label>
						<div class="input-content">
							<input type="text" id="cust-id" name="custId" placeholder="최소 4글자 최대 12글자로 입력해주세요." pattern="/^[a-zA-Z0-9]{4,12}$/" title="영어와 숫자만 가능합니다." required>
							<button type="button" class="signup-button" id="check-duplicate">중복 확인</button>
						</div>
						
						<span id="id-status"></span>
						
					</div>
								
					<div class="input-container">
						<label for="name">이름</label>
						<input type="text" id="cust-nm" name="custNm" placeholder="두 글자 이상 입력해주세요." pattern="[가-힣]{2,}" title="한글만 가능합니다." required><br>
					</div>
					
					<div class="input-container">
						<label for="email">이메일</label>
						
						<div class="input-content">
							<input type="text" class="email-box" id="email-box" name="custEmail" required>&nbsp;@&nbsp; 
							<input type="text" class="email-box" id="email-domain-box" name="emailDomain" placeholder="example.com" required>
							<select class="email-box" id="email-domain-list" name="emailDomain">
								<option value="naver.com">naver.com</option>
								<option value="google.com">gmail.com</option>
								<option value="hanmail.net">hanmail.net</option>
								<option value="nate.com">nate.com</option>
								<option value="kakao.com">kakao.com</option>
								<option value="directInput" selected>직접 입력하기</option>
							</select>
							<!-- name을 다른 걸 주고 invisible input 창 만들어서 이메일이랑 도메인 합친 cust-email 반환해야 함 -->
							<button type="button" id="email-cerification" class="signup-button" onclick="emailCertView(), sendEmailCert()">인증 요청</button>
						</div>
						<div class="input-container" id="emailCertNum" style="display:none;">
							<label for="email-check">인증번호 입력</label>
							<div class="input-contianer">
								<input type="text" class="email-check">
							</div>							
						</div>
					</div>
					
					<div class="input-container">
						<label for="password">비밀번호</label>
						<div class="input-content">
							<input type="password" id="cust-password" class="cust-password" name="custPassword" 
									pattern="^(?=.*[A-Za-z])(?=.*\d)(?=.*[@$!%*#?&])[A-Za-z\d@$!%*#?&]{8,20}$" required> 
						</div>
						<p style="font-size: 0.8em">* 최소 8자 ~ 20자 입력 가능합니다.</p>
						<p style="font-size: 0.8em">* 비밀번호는 문자, 숫자, 특수문자의 조합이어야 합니다.</p>
						<p style="font-size: 0.8em">* 사용 가능한 특수문자: *@$!%*#?&</p>
					</div>
					
					<div class="input-container">
						<label for="password">비밀번호 확인</label> 
						<div class="input-content">
							<input type="password" id="password-check" name="custPasswordCheck" required>
						</div>
						<div class="mismatch-message hide" style="color: red;">비밀번호가 일치하지 않습니다</div>
					</div>
					
					
					<div class="input-container">
						<label for="residentNumber">주민등록번호</label>
						<div class="input-content">
							<input type="text" id="residentNumber1" name="custIdfyNo" pattern="/^\d{2}[0-1]\d{1}[0-3]\d{1}$/" title="숫자만 가능합니다." required>
							&nbsp;-&nbsp;
							<input type="password" id="residentNumber2" name="custIdfyNo" pattern="/^[1-4]\d{6}$/" title="숫자만 가능합니다." required>
						</div>
						<!-- 이메일과 동일 작업 필요 -->
					</div>
					
					<div class="input-container">
						<label for="phoneNumber">핸드폰 번호</label>
						
						<div class="input-content">
							<input type="text" name="custNo" value="010" readonly>
							&nbsp;-&nbsp;
							<input type="text" name="custNo" pattern="/d{4}" title="숫자만 가능합니다." required>
							&nbsp;-&nbsp;
							<input type="text" name="custNo" pattern="/d{4}" title="숫자만 가능합니다." required>
						</div>
						<!-- 동일 작업 필요 -->
					</div>
					
					<input type="checkbox" id="agreeAll">
					<label for="agreeAll">전체동의</label>
						
					<div class="signup-checkbox">					
						<div>
							<input type="checkbox" id="agreePersonalInfo">
							<label for="agreePersonalInfo">개인정보이용동의 보기</label>
						</div>
						
						<div>
							<input type="checkbox" id="agreeUniqueInfo">
							<label for="agreeUniqueInfo">고유식별정보처리동의 보기</label>
						</div>
					</div>
					
					<div class="signup-checkbox">
						<div>	
							<input type="checkbox" id="agreeServiceTerms">
							<label for="agreeServiceTerms">서비스이용약관동의 보기</label>
						</div>
						<div>
							<input type="checkbox" id="agreeTelecomTerms">
							<label for="agreeTelecomTerms">통신사이용약관동의 보기</label><br>
						</div>
					</div>
					
					<button type="submit" class="login-button">가입하기</button>
				</form>
			</div>
		</article>
	</section>
</th:block>

<th:block layout:fragment="script">
	<script th:src="@{/js/signup.js}" ></script>
</th:block>

</html>